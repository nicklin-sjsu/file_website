<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
	<title>File Website</title>
	<!-- Bootstrap core CSS -->
	<link href="bootstrap/css/theme/<%= theme %>/bootstrap.css" rel="stylesheet">
	<!-- Custom styles for this template -->
	<link href="bootstrap/css/jumbotron-narrow.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
</head>

<body>
<div class="container">

	<!-- Pills navs -->
	<ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
		<li class="nav-item" role="presentation">
			<a class="nav-link active" id="tab-signin" data-mdb-toggle="pill" onclick="switchTab('signin');" role="tab"
				aria-controls="pills-signin" aria-selected="true">Login</a>
		</li>
		<li class="nav-item" role="presentation">
			<a class="nav-link" id="tab-signup" data-mdb-toggle="pill" onclick="switchTab('signup');" role="tab"
				aria-controls="pills-signup" aria-selected="false">Register</a>
		</li>
		<li class="nav-item" role="presentation">
			<a class="nav-link" id="tab-admin" data-mdb-toggle="pill" onclick="switchTab('admin');" role="tab"
				aria-controls="pills-admin" aria-selected="false">Admin</a>
		</li>
	</ul>
	<!-- Pills navs -->

	<!-- Pills content -->
	<div class="tab-content">
		<div class="tab-pane active" id="pills-signin" role="tabpanel" aria-labelledby="tab-signin">
			<div class="text-center mb-3">
				<p>Sign in with:</p>
				<button type="button" class="btn btn-link btn-floating mx-1">
					<i class="bi bi-facebook"></i>
				</button>

				<button type="button" class="btn btn-link btn-floating mx-1">
					<i class="bi bi-google"></i>
				</button>

				<button type="button" class="btn btn-link btn-floating mx-1">
					<i class="bi bi-twitter"></i>
				</button>

				<button type="button" class="btn btn-link btn-floating mx-1">
					<i class="bi bi-github"></i>
				</button>
			</div>

			<p class="text-center">or:</p>

			<!-- Email input -->
			<div class="form-outline mb-4">
				<label class="form-label" for="signinEmail">Email</label>
				<input type="email" id="signinEmail" class="form-control" />
			</div>

			<!-- Password input -->
			<div class="form-outline mb-4">
				<label class="form-label" for="signinPassword">Password</label>
				<input type="password" id="signinPassword" class="form-control" />
			</div>

			<!-- 2 column grid layout -->
			<div class="row mb-4">
				<div class="col-md-6 d-flex justify-content-center">
					<!-- Checkbox -->
					<div class="form-check mb-3 mb-md-0">
						<input class="form-check-input" type="checkbox" value="" id="signinCheck" />
						<label class="form-check-label" for="signinCheck"> Remember me </label>
					</div>
				</div>

<!-- 				<div class="col-md-6 d-flex justify-content-center">
					Simple link
					<a href="#!">Forgot password?</a>
				</div> -->
			</div>

			<!-- Submit button -->
			<button type="submit" class="btn btn-primary btn-block mb-4" onclick="signin()">Sign in</button>

		</div>
		<div class="tab-pane" id="pills-signup" role="tabpanel" aria-labelledby="tab-signup">
			<div class="text-center mb-3">
				<p>Sign up with:</p>
				<button type="button" class="btn btn-link btn-floating mx-1">
					<i class="bi bi-facebook"></i>
				</button>

				<button type="button" class="btn btn-link btn-floating mx-1">
					<i class="bi bi-google"></i>
				</button>

				<button type="button" class="btn btn-link btn-floating mx-1">
					<i class="bi bi-twitter"></i>
				</button>

				<button type="button" class="btn btn-link btn-floating mx-1">
					<i class="bi bi-github"></i>
				</button>
			</div>

			<p class="text-center">or:</p>

			<!-- Name input -->
			<div class="form-outline mb-4">
				<label class="form-label" for="signupFirstName">First Name</label>
				<input type="text" id="signupFirstName" class="form-control" />
			</div>

			<!-- Name input -->
			<div class="form-outline mb-4">
				<label class="form-label" for="signupLastName">Last Name</label>
				<input type="text" id="signupLastName" class="form-control" />
			</div>

			<!-- Email input -->
			<div class="form-outline mb-4">
				<label class="form-label" for="signupEmail">Email</label>
				<input type="email" id="signupEmail" class="form-control" />
			</div>

			<!-- Password input -->
			<div class="form-outline mb-4">
				<label class="form-label" for="signupPassword">Password</label>
				<input type="password" id="signupPassword" class="form-control" />
			</div>

			<!-- Repeat Password input -->
			<div class="form-outline mb-4">
				<label class="form-label" for="signupRepeatPassword">Repeat password</label>
				<input type="password" id="signupRepeatPassword" class="form-control" />
			</div>

			<!-- Checkbox -->
			<div class="form-check d-flex justify-content-center mb-4">
				<input class="form-check-input me-2" type="checkbox" value="" id="signupCheck"
					aria-describedby="signupCheckHelpText" />
				<label class="form-check-label" for="signupCheck">
					I have read and agree to the terms
				</label>
			</div>

			<!-- Submit button -->
			<button type="submit" class="btn btn-primary btn-block mb-3" onclick="signup()">signup</button>
		</div>

		<div class="tab-pane" id="pills-admin" role="tabpanel" aria-labelledby="tab-admin">
			<!-- Email input -->
			<div class="form-outline mb-4">
				<label class="form-label" for="adminName">Email</label>
				<input type="email" id="adminName" class="form-control" />
			</div>

			<!-- Password input -->
			<div class="form-outline mb-4">
				<label class="form-label" for="adminPassword">Password</label>
				<input type="password" id="adminPassword" class="form-control" />
			</div>

			<!-- 2 column grid layout -->
			<div class="row mb-4">
				<div class="col-md-6 d-flex justify-content-center">
					<!-- Checkbox -->
					<div class="form-check mb-3 mb-md-0">
						<input class="form-check-input" type="checkbox" value="" id="signinCheck" />
						<label class="form-check-label" for="signinCheck"> Remember me </label>
					</div>
				</div>

<!-- 				<div class="col-md-6 d-flex justify-content-center">
					Simple link
					<a href="#!">Forgot password?</a>
				</div> -->
			</div>

			<!-- Submit button -->
			<button type="submit" class="btn btn-primary btn-block mb-4" onclick="signin()">Sign in</button>
		</div>
	</div>
	<!-- Pills content -->
	</div>
</body>
<script type="text/javascript">
	function switchTab(tabName) {
		var signinTab = document.getElementById("pills-signin");
		var signupTab = document.getElementById("pills-signup");
		var adminTab = document.getElementById("pills-admin");
		if (tabName == 'signin') {
			signupTab.classList.remove("active");
			adminTab.classList.remove("active");
			signinTab.classList.add("active");
		} else if (tabName == 'signup') {
			signinTab.classList.remove("active");
			adminTab.classList.remove("active");
			signupTab.classList.add("active");
		} else if (tabName == 'admin') {
			signupTab.classList.remove("active");
			signinTab.classList.remove("active");
			adminTab.classList.add("active");
		}
	}

	function signin() {
		var email = document.getElementById('signinEmail').value;
		var password = document.getElementById('signinPassword').value;
		var rememberMe = document.getElementById('signinCheck').value;
		if (!email) {
			alert("Please input your email");
		} else if (!password) {
			alert("Please input your password");
		} else {
			fetch("/signin", {
				method: "POST",
				headers: {
					'Content-Type': 'application/json'
				},
				body : JSON.stringify({email: email, password: password})
			})
			.then((response) => response.json())
			.then((res) => {
				if (res.code == 200) {
					location.reload();
				} else {
					var b;
				}
				alert(res.message);
			})
			.catch(console.error);
		}
	}

	function signup() {
		var first_name = document.getElementById('signupFirstName').value;
		var last_name = document.getElementById('signupLastName').value;
		var email = document.getElementById('signupEmail').value;
		var password = document.getElementById('signupPassword').value;
		var signupRepeatPassword = document.getElementById('signupRepeatPassword').value;
		var signupCheck = document.getElementById('signupCheck').checked;
		if (!first_name) {
			alert("Please input your first name");
		} else if (!last_name) {
			alert("Please input your last name");
		} else if (!email) {
			alert("Please input your email");
		} else if (!password) {
			alert("Please input your password");
		} else if (password != signupRepeatPassword) {
			alert("Passwords do not match");
		} else if (!signupCheck) {
			alert("Please agree to the terms");
		} else {
			fetch("/signup", {
				method: "POST",
				headers: {
					'Content-Type': 'application/json'
				},
				body : JSON.stringify({first_name: first_name, last_name: last_name, email: email,
				password: password})
			})
			.then((response) => response.json())
			.then((res) => {
				if (res.code == 200) {
					var a;
				} else {
					var b;
				}
				alert(res.message);
			})
			.catch(console.error);
		}
	}
</script>
</html>
